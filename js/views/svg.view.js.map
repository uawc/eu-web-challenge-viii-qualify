{"version":3,"sources":["..\\..\\..\\src\\js\\views\\svg.view.js"],"names":[],"mappings":";;AAAA,MAAM,CAAC,CAAC,QAAQ,EAAE,YAAY,EAAE,UAAU,EAAE,WAAW,EAAE,iBAAiB,EAAE,mBAAmB,CAAC,EAC/F,UAAC,CAAC,EAAE,CAAC,EAAE,QAAQ,EAAE,SAAS,EAAE,QAAQ,EAAE,SAAS,EAAG;;;AAGjD,QAAO,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC;;;AAG3B,WAAS,EAAE,aAAa;;AAExB,UAAQ,EAAE,SAAS,CAAC,GAAG;;AAEvB,QAAM,EAAE;AACP,mBAAgB,EAAE,cAAc;AAChC,kBAAe,EAAE,aAAa;AAC9B,eAAY,EAAE,cAAc;GAC5B;;;AAGD,YAAU,EAAA,sBAAG;AACZ,OAAI,CAAC,MAAM,EAAE,CAAC;;AAEd,OAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,EAAE,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;AACpD,OAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,EAAE,KAAK,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;GACzD;;;AAGD,QAAM,EAAA,kBAAG;AACR,OAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;AAClD,OAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;AAC9C,UAAO,IAAI,CAAC;GACZ;;;;;;AAMD,OAAK,EAAA,iBAAE;AACN,OAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;GAClD;;;;;;;AAOD,cAAY,EAAA,sBAAC,KAAK,EAAE;AACnB,OAAG,CAAC,KAAK,CAAC,GAAG,CAAC,UAAU,CAAC,EAAE;AAC1B,QAAI,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,AAAC,IAAI,QAAQ,CAAC,EAAE,KAAK,EAAL,KAAK,EAAE,CAAC,CAAE,EAAE,CAAC,CAAC;IAC1D;GACD;;;;;;AAMD,cAAY,EAAA,sBAAC,CAAC,EAAE;AACf,IAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,cAAc,CAAC,CAAC;GAC1C;;;;;;AAMD,aAAW,EAAA,qBAAC,CAAC,EAAE;AACd,IAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,YAAY,CAAC,CAAC;GACxC;;;;;;AAMD,cAAY,EAAA,sBAAC,CAAC,EAAE;AACf,OAAI,YAAY,GAAG,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;;AAE9D,OAAG,YAAY,CAAC,GAAG,CAAC,UAAU,CAAC,EAAC;AAC/B,QAAI,CAAC,kBAAkB,CAAC,YAAY,CAAC,CAAC;IACtC,MAAM,IAAG,YAAY,CAAC,WAAW,EAAE,EAAE;AACrC,QAAI,CAAC,oBAAoB,CAAC,YAAY,CAAC,CAAC;IACxC;GACD;;;;;;;AAOD,sBAAoB,EAAA,8BAAC,aAAa,EAAE;AACnC,gBAAa,CAAC,cAAc,EAAE,CAAC;AAC/B,OAAI,CAAC,UAAU,CAAC,WAAW,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;GACjD;;;;;;;AAOD,oBAAkB,EAAA,4BAAC,aAAa,EAAE;AACjC,gBAAa,CAAC,cAAc,EAAE,CAAC;AAC/B,OAAI,CAAC,UAAU,CAAC,WAAW,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;GAClD;EACD,CAAC,CAAC;CACH,CAAC,CAAC","file":"svg.view.js","sourcesContent":["define(['jquery', 'underscore', 'backbone', 'templates', 'views/item.view', 'models/item.model'],\r\n\t($, _, Backbone, templates, ItemView, ItemModel)=>{\r\n\r\n\t\t// Main App View\r\n\t\treturn Backbone.View.extend({\r\n\r\n\t\t\t//View element className\r\n\t\t\tclassName: \"svg-wrapper\",\r\n\t\t\t//View template\r\n\t\t\ttemplate: templates.svg,\r\n\t\t\t//View events\r\n\t\t\tevents: {\r\n\t\t\t\t'mouseover text': '_onMouseOver',\r\n\t\t\t\t'mouseout text': '_onMouseOut',\r\n\t\t\t\t'click text': '_onTextClick'\r\n\t\t\t},\r\n\r\n\t\t\t//Initializing of app.view\r\n\t\t\tinitialize() {\r\n\t\t\t\tthis.render();\r\n\r\n\t\t\t\tthis.listenTo(this.collection, 'reset', this.clear);\r\n\t\t\t\tthis.listenTo(this.collection, 'add', this._renderChild);\r\n\t\t\t},\r\n\r\n\t\t\t//Rendering of app\r\n\t\t\trender() {\r\n\t\t\t\tthis.$el.html(this.template(this.model.toJSON()));\r\n\t\t\t\tthis.collection.each(this._renderChild, this);\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Clearing view element\r\n\t\t\t * @public\r\n\t\t\t * */\r\n\t\t\tclear(){\r\n\t\t\t\tthis.$el.html(this.template(this.model.toJSON()));\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Render for each model\r\n\t\t\t * @private\r\n\t\t\t * @param model - {object}\r\n\t\t\t * */\r\n\t\t\t_renderChild(model) {\r\n\t\t\t\tif(!model.get('isHidden')) {\r\n\t\t\t\t\tthis.$el.find('svg').append((new ItemView({ model })).el);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Changing text color on mouse over\r\n\t\t\t * @private\r\n\t\t\t * */\r\n\t\t\t_onMouseOver(e) {\r\n\t\t\t\t$(e.target).attr('style', 'fill:yellow;');\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Restoring text color on mouse out\r\n\t\t\t * @private\r\n\t\t\t * */\r\n\t\t\t_onMouseOut(e) {\r\n\t\t\t\t$(e.target).attr('style', 'fill:#bbb;');\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Expanding/Collapsing child elements on text clicking\r\n\t\t\t * @private\r\n\t\t\t * */\r\n\t\t\t_onTextClick(e) {\r\n\t\t\t\tlet currentModel = this.collection.at($(e.target).attr('id'));\r\n\r\n\t\t\t\tif(currentModel.get('isClosed')){\r\n\t\t\t\t\tthis._expandTreeElement(currentModel);\r\n\t\t\t\t} else if(currentModel.isLastChild()) {\r\n\t\t\t\t\tthis._collapseTreeElement(currentModel);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Collapsing child elements\r\n\t\t\t * @private\r\n\t\t\t * @param parentElement - {model}\r\n\t\t\t * */\r\n\t\t\t_collapseTreeElement(parentElement) {\r\n\t\t\t\tparentElement.toggleIsClosed();\r\n\t\t\t\tthis.collection.toggleNodes(parentElement, true);\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Expanding child elements\r\n\t\t\t * @private\r\n\t\t\t * @param parentElement - {model}\r\n\t\t\t * */\r\n\t\t\t_expandTreeElement(parentElement) {\r\n\t\t\t\tparentElement.toggleIsClosed();\r\n\t\t\t\tthis.collection.toggleNodes(parentElement, false);\r\n\t\t\t}\r\n\t\t});\r\n\t});"]}